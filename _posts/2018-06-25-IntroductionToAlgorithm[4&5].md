---
layout: post
title:  "算导注解Chapter[4&5]"
date:   2018-06-27
author: MinicitY
categories: Algorithm
tags: 分治法 离散数学
---

* content
{:toc}

## **Preview**

这里详细讲讲分治策略（虽然这个明显应该算后面的「分析技术」吧……）第五章概率分析就尽量略过了，基本都是离散的问题。

Keywords: `最大子数组问题` `Strassen` `递归式`

先修知识：

假想你知道未来三十天的股票价格，你需要写一个算法来求出何时买何时卖来保证收益最大化——显然我们首先可以得到一个数组，每一个index代表天数，每一个value代表与这一天股票价格与前一天的价格差值(第0天是0)。那么我们的问题就可以转化为寻找这个数组的**和最大的非空连续子数组**。这样的连续子数组被叫做**最大子数组**。




## **最大子数组**
//书上讲得很乱，理解了半天……
最大子数组应该有以下值得注意的地方：

- 原数组必包含负数
- 一个原数组可能有多个最大子数组
- 我们可以利用之前计算出的子数组和来计算当前子数组的和，使得每次计算子数组和的时间为O(1)，因此暴力求解方法所耗费的时间为O(n^2)

现在回到我们的股票问题。为了更快地得到最大子数组，我们可以用分治法的思想来考虑这个求解问题。这并不完全像以前学的最大值最小值。

连续子数组存在下列三种情况：

1.	完全在A[low, mid]中
2.	完全在A[mid+1, high]中
3.	跨越中点mid

对于第一二种情况是很简单的，你把目前求的最大子数组直接求和成一个数，其他的子数组页求和成一个数，看成用分治求解一个数组的最大值就行了。比如，1，2，-3，-4，对于最大子数组中，数的个数为2的情况，就可以把它看成分治求解3，-7。数的个数>1时单情况复杂度肯定小于nlogn，再迭代考虑数的个数=数的个数+1的情况，**求和的数据可以在O（1）时间内继承上个情况的数据，多个情况相加最后得到nlogn。**

_这种理解方式跟书上不太一样，但是我认为比书上会好理解得多，欢迎捉虫。_

显然地，任何的第三种情况都可以分割为第一+第二种情况，只是要求**边界必须包含mid和mid+1，然后合并。**（伪代码略）这样这个问题就变成了在一定条件下寻找最大子数组。伪代码思路：

- 判断只有一个元素的base case
- 选定mid，左递归调用，右递归调用
- **对第三种情况的数组分割+分治考虑，直接return一个处理好的极大子数组**
- 比较value

## **分治算法分析**

承接股票问题。书上给的 `T(n)= Θ(1) + 2T(n/2) + Θ(n) + Θ(1) = 2T(n/2) + Θ(n)`
这就是T(n) 在n > 1 时的递归情况。然而我之前理解的方式和它不太一样，它原来的分治算法是真的很难理解……不过反正都是nlogn，就懒得管那么多了。这个T(n)递归式都后面拿来分析主方法求解好了。而且书上也说了，存在一个更好的非递归，线性时间的算法(习题4.1-5)

谈点别的。分治法不仅仅只用于一分为二。它的核心思想是分和治，至于怎么分怎么治都可以进一步优化。一分为多的通用递归式推导：
![](https://github.com/MinicitY/MyImg/blob/master/%E9%80%9A%E7%94%A8%E5%88%86%E6%B2%BB%E9%80%92%E5%BD%92%E5%BC%8F.png?raw=true)
*摘自《算法设计与分析基础(第三版)》的附录B, P376*

_Ps.似乎只有在一分为质数个子问题的情况才有讨论通用递归式的意义_

## **Strassen算法**



## **三种求解递归式的方法**

递归式的本质是分段函数，不过会有一个调用自己的「段」来实现递归。无论「段」对自变量如何划分，实际上都很难处理奇偶数的问题。奇数状态下两个子问题的规模都不会是n/2。不过我们一般都忽略这种细节，哪个甲方和用户会在乎呢……

#### 代入法
***
#### 递归树法
***
#### 主方法
***
## **题目答案**

先占着
